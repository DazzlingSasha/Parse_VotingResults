CREATE TABLE VOTING_DATE
(
    ID SERIAL PRIMARY KEY,
    DATE_VOTING VARCHAR(10) NOT NULL,
    TITLE TEXT NOT NULL
);

CREATE TABLE TITLE_MEETINGS
(
    ID SERIAL PRIMARY KEY,
    ID_DATE INT NOT NULL,
    NAME_TITLE TEXT NOT NULL,
    RESULT VARCHAR(30) NOT NULL,
    COUNT_CONSONANTS INT NOT NULL, 
    COUNT_AGAINST INT NOT NULL, 
    COUNT_RESISTED INT NOT NULL, 
    COUNT_NOT_TAKE INT NOT NULL, 
    COUNT_ABSENT INT NOT NULL
);

ALTER TABLE TITLE_MEETINGS
  ADD CONSTRAINT TITLE_MEETINGS_id_date_fkey FOREIGN KEY (id_date)
      REFERENCES VOTING_DATE (id);

CREATE TABLE DEPUTIES
(
    ID SERIAL PRIMARY KEY,
    NAME_DEPUTY VARCHAR(255) NOT NULL
);


CREATE TABLE RESULT
(
    ID SERIAL PRIMARY KEY,
    ID_TITLE INT NOT NULL,
    ID_DEPUTY INT NOT NULL,
    RESULT_ANSWER VARCHAR(30) NOT NULL
);

ALTER TABLE RESULT
  ADD CONSTRAINT RESULT_id_title_fkey FOREIGN KEY (id_title)
      REFERENCES TITLE_MEETINGS (id);

ALTER TABLE RESULT
  ADD CONSTRAINT RESULT_id_deputy_fkey FOREIGN KEY (id_deputy)
      REFERENCES DEPUTIES (id);

SELECT * FROM VOTING_DATE;
SELECT * FROM TITLE_MEETINGS;
SELECT * FROM DEPUTIES;
SELECT * FROM RESULT;

DELETE FROM RESULT;
DELETE FROM VOTING_DATE;
DELETE FROM DEPUTIES;
DELETE FROM TITLE_MEETINGS;
